<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started • chessboard</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started">
<meta property="og:description" content="chessboard">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">chessboard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/chessboard.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/movements.html">Chess movements</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/frbcesab/chessboard/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/frbcesab/chessboard/blob/HEAD/vignettes/chessboard.Rmd" class="external-link"><code>vignettes/chessboard.Rmd</code></a></small>
      <div class="hidden name"><code>chessboard.Rmd</code></div>

    </div>

    
    
<p>The aim of the package <code>chessboard</code> is to provide tools to
work with <strong>directed</strong> (asymmetric) and
<strong>undirected</strong> (symmetrical) spatial
<strong>networks</strong>. It makes easier the creation of
<strong>connectivity matrix</strong>, i.e. a binary matrix of dimensions
<code>n x n</code>, where <code>n</code> is the number of
<strong>nodes</strong> (sampling units) indicating the presence
(<code>1</code>) or the absence (<code>0</code>) of an
<strong>edge</strong> (link) between pairs of nodes. Different network
objects can be produced by <code>chessboard</code>:</p>
<ul>
<li><strong>nodes list</strong></li>
<li><strong>neighbors list</strong></li>
<li><strong>edges list</strong></li>
<li><strong>connectivity matrix</strong></li>
</ul>
<p><br></p>
<p>In addition, the package can also produce objects that can be used
later in Asymetric Eigenvector Maps (AEM, Blanchet <em>et al.</em>
2008), method available in the package <a href="https://cran.r-project.org/package=adespatial" class="external-link"><code>adespatial</code></a>
(Dray <em>et al.</em> 2022): <strong>nodes by edges matrix</strong> and
<strong>edges weights vector</strong>.</p>
<p><br></p>
<p>This package has been developed for the <a href="https://www.fondationbiodiversite.fr/en/about-the-foundation/le-cesab/" class="external-link">FRB-CESAB</a>
working group <a href="https://www.fondationbiodiversite.fr/en/the-frb-in-action/programs-and-projects/le-cesab/bridge/" class="external-link">Bridge</a>
that aims to better understand the role of local and regional
environmental factors in shaping the taxonomic and functional diversity
of plant communities established along river corridors, roadside
corridors and cultivated field margins.</p>
<p><br></p>
<p><strong>Setup</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/frbcesab/chessboard" class="external-link">"chessboard"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://patchwork.data-imaginist.com" class="external-link">"patchwork"</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level2">
<h2 id="sampling-design">Sampling design<a class="anchor" aria-label="anchor" href="#sampling-design"></a>
</h2>
<p>The package <code>chessboard</code> is designed to work with
<strong>two-dimensional network</strong> (i.e.  sampling on a regular
grid). The network can be spatial or not, and can be directed or
undirected.</p>
<p><code>chessboard</code> provides an example of a survey realized
along the French river <em>L’Adour</em> (Fig. 1).</p>
<p><br></p>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/map-adour-river-1.png" alt="Figure 1. Location of the French river L'Adour" width="80%"><p class="caption">
Figure 1. Location of the French river L’Adour
</p>
</div>
<p><br></p>
<p><em>L’Adour</em> is a river in southwestern France. It rises in the
Pyrenees and flows into the Atlantic Ocean (Bay of Biscay). It’s
oriented from south-east (upstream) to north-west (downstream).</p>
<p><br></p>
<p>Along this river, a survey has been realized at
<strong>three</strong> locations (Fig. 2). At each location, a sampling
has been conducted on a regular grid composed of <strong>three</strong>
transects each of them composed of <strong>five</strong> quadrats.</p>
<p><br></p>
<pre><code><span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span></code></pre>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/map-adour-sites-1.png" alt="Figure 2. Study area with survey sampling" width="80%"><p class="caption">
Figure 2. Study area with survey sampling
</p>
</div>
<p><br></p>
<p>The arrow indicates the direction of the river flow. This means that
our sampling design is a <strong>directed spatial network</strong> (both
inside a location and between locations) where the main direction is
from upstream to downstream.</p>
<p><br></p>
<p><strong>N.B.</strong> The package <code>chessboard</code> can also
deal with one-dimensional sampling (either
<strong>transects-only</strong> or <strong>quadrats-only</strong>) and
with <strong>undirected</strong> networks.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="nodes-labeling">Nodes labeling<a class="anchor" aria-label="anchor" href="#nodes-labeling"></a>
</h2>
<p>It’s <strong>important</strong> to note that, even the package
<code>chessboard</code> can handle spatial networks, it does not
explicitly use spatial coordinates to find neighbors (and edges).
Instead, it will identify neighbors only based on <strong>nodes
labels</strong>. In other words, the order of nodes labels will give the
dimension and the direction of the network.</p>
<p><br></p>
<p>Let’s import the survey dataset provided by the package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Import survey data ----</span></span>
<span><span class="va">path_to_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"adour_survey_sampling.csv"</span>, package <span class="op">=</span> <span class="st">"chessboard"</span><span class="op">)</span></span>
<span><span class="va">adour_sites</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">path_to_file</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">adour_sites</span>, <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;    location transect quadrat longitude latitude</span></span>
<span><span class="co">#&gt; 1         1        1       1  474036.9  6221518</span></span>
<span><span class="co">#&gt; 2         1        1       2  473080.0  6223828</span></span>
<span><span class="co">#&gt; 3         1        1       3  472123.1  6226138</span></span>
<span><span class="co">#&gt; 4         1        1       4  471166.2  6228448</span></span>
<span><span class="co">#&gt; 5         1        1       5  470209.3  6230758</span></span>
<span><span class="co">#&gt; 6         1        2       1  476347.0  6222475</span></span>
<span><span class="co">#&gt; 7         1        2       2  475390.1  6224785</span></span>
<span><span class="co">#&gt; 8         1        2       3  474433.2  6227095</span></span>
<span><span class="co">#&gt; 9         1        2       4  473476.3  6229405</span></span>
<span><span class="co">#&gt; 10        1        2       5  472519.5  6231715</span></span>
<span><span class="co">#&gt; 11        1        3       1  478657.1  6223432</span></span>
<span><span class="co">#&gt; 12        1        3       2  477700.2  6225742</span></span>
<span><span class="co">#&gt; 13        1        3       3  476743.4  6228052</span></span>
<span><span class="co">#&gt; 14        1        3       4  475786.5  6230362</span></span>
<span><span class="co">#&gt; 15        1        3       5  474829.6  6232672</span></span>
<span><span class="co">#&gt; 16        2        1       6  464884.1  6272493</span></span>
<span><span class="co">#&gt; 17        2        1       7  464205.4  6274900</span></span>
<span><span class="co">#&gt; 18        2        1       8  463526.6  6277306</span></span>
<span><span class="co">#&gt; 19        2        1       9  462847.9  6279713</span></span>
<span><span class="co">#&gt; 20        2        1      10  462169.2  6282119</span></span></code></pre></div>
<p>This <code>data.frame</code> contains the following columns:</p>
<ul>
<li>
<code>location</code>: the identifier of the location
(<code>numeric</code>)</li>
<li>
<code>transect</code>: the identifier of the transect
(<code>numeric</code>)</li>
<li>
<code>quadrat</code>: the identifier of the quadrat
(<code>numeric</code>)</li>
<li>
<code>longitude</code>: the longitude of the site
(<strong>node</strong>) defined in the <a href="https://epsg.io/2154" class="external-link">RGF93 / Lambert-93</a> projection</li>
<li>
<code>latitude</code>: the latitude of the site
(<strong>node</strong>) defined in the <a href="https://epsg.io/2154" class="external-link">RGF93 / Lambert-93</a> projection</li>
</ul>
<p><br></p>
<p><strong>N.B.</strong> The column <code>location</code> is optional
(if the survey has been conducted at one single location). If the
network has one dimension, one of the columns <code>transect</code> and
<code>quadrat</code> can be omitted.</p>
<p><br></p>
<p>We can visualize this survey on a Cartesian referential,
i.e. non-spatial, where the x-axis corresponds to
<strong>transects</strong> and the y-axis represents the
<strong>quadrats</strong> (Fig. 3).</p>
<p><br></p>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/plot-sampling-units-1.png" alt="Figure 3. Sampling design" width="100%"><p class="caption">
Figure 3. Sampling design
</p>
</div>
<p><br></p>
<p>From this figure, several things should be noted:</p>
<ol style="list-style-type: decimal">
<li>For two-dimensional networks, the x-axis <strong>always</strong>
corresponds to transects and the y-axis to the quadrats.</li>
<li>In this survey, the locations have the same transect identifiers (1
to 3) but the <strong>identifier of quadrats increases</strong> with
locations.</li>
<li>The <strong>order of the quadrats</strong> follows the direction of
the network: the first quadrat is upstream and the last is
downstream.</li>
</ol>
<p><br></p>
<p>When using the package <code>chessboard</code>, the <strong>first
step</strong> is to create <strong>nodes labels</strong> by combining
the identifiers of transects and quadrats. It’s the purpose of the
function <code><a href="../reference/create_nodes_labels.html">create_nodes_labels()</a></code>.</p>
<p><br></p>
<p>But first, let’s select the first location (optional).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Select first location (optional) ----</span></span>
<span><span class="va">adour_sites</span> <span class="op">&lt;-</span> <span class="va">adour_sites</span><span class="op">[</span><span class="va">adour_sites</span><span class="op">$</span><span class="st">"location"</span> <span class="op">==</span> <span class="fl">1</span>, <span class="op">]</span></span>
<span><span class="va">adour_sites</span></span>
<span><span class="co">#&gt;    location transect quadrat longitude latitude</span></span>
<span><span class="co">#&gt; 1         1        1       1  474036.9  6221518</span></span>
<span><span class="co">#&gt; 2         1        1       2  473080.0  6223828</span></span>
<span><span class="co">#&gt; 3         1        1       3  472123.1  6226138</span></span>
<span><span class="co">#&gt; 4         1        1       4  471166.2  6228448</span></span>
<span><span class="co">#&gt; 5         1        1       5  470209.3  6230758</span></span>
<span><span class="co">#&gt; 6         1        2       1  476347.0  6222475</span></span>
<span><span class="co">#&gt; 7         1        2       2  475390.1  6224785</span></span>
<span><span class="co">#&gt; 8         1        2       3  474433.2  6227095</span></span>
<span><span class="co">#&gt; 9         1        2       4  473476.3  6229405</span></span>
<span><span class="co">#&gt; 10        1        2       5  472519.5  6231715</span></span>
<span><span class="co">#&gt; 11        1        3       1  478657.1  6223432</span></span>
<span><span class="co">#&gt; 12        1        3       2  477700.2  6225742</span></span>
<span><span class="co">#&gt; 13        1        3       3  476743.4  6228052</span></span>
<span><span class="co">#&gt; 14        1        3       4  475786.5  6230362</span></span>
<span><span class="co">#&gt; 15        1        3       5  474829.6  6232672</span></span></code></pre></div>
<p><br></p>
<p>Now, we can create the nodes labels.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create nodes labels ----</span></span>
<span><span class="va">adour_sites</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_nodes_labels.html">create_nodes_labels</a></span><span class="op">(</span>data     <span class="op">=</span> <span class="va">adour_sites</span>, </span>
<span>                                   location <span class="op">=</span> <span class="st">"location"</span>,</span>
<span>                                   transect <span class="op">=</span> <span class="st">"transect"</span>, </span>
<span>                                   quadrat  <span class="op">=</span> <span class="st">"quadrat"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adour_sites</span></span>
<span><span class="co">#&gt;    node location transect quadrat longitude latitude</span></span>
<span><span class="co">#&gt; 1   1-1        1        1       1  474036.9  6221518</span></span>
<span><span class="co">#&gt; 2   1-2        1        1       2  473080.0  6223828</span></span>
<span><span class="co">#&gt; 3   1-3        1        1       3  472123.1  6226138</span></span>
<span><span class="co">#&gt; 4   1-4        1        1       4  471166.2  6228448</span></span>
<span><span class="co">#&gt; 5   1-5        1        1       5  470209.3  6230758</span></span>
<span><span class="co">#&gt; 6   2-1        1        2       1  476347.0  6222475</span></span>
<span><span class="co">#&gt; 7   2-2        1        2       2  475390.1  6224785</span></span>
<span><span class="co">#&gt; 8   2-3        1        2       3  474433.2  6227095</span></span>
<span><span class="co">#&gt; 9   2-4        1        2       4  473476.3  6229405</span></span>
<span><span class="co">#&gt; 10  2-5        1        2       5  472519.5  6231715</span></span>
<span><span class="co">#&gt; 11  3-1        1        3       1  478657.1  6223432</span></span>
<span><span class="co">#&gt; 12  3-2        1        3       2  477700.2  6225742</span></span>
<span><span class="co">#&gt; 13  3-3        1        3       3  476743.4  6228052</span></span>
<span><span class="co">#&gt; 14  3-4        1        3       4  475786.5  6230362</span></span>
<span><span class="co">#&gt; 15  3-5        1        3       5  474829.6  6232672</span></span></code></pre></div>
<p><br></p>
<p>The nodes labels are of the form: <code>1-2</code>, where
<code>1</code> is the identifier of the <strong>transect</strong>
(created by the function if missing, i.e. quadrats-only sampling), and
<code>2</code>, the identifier of the <strong>quadrat</strong> (created
by the function if missing, i.e. transects-only sampling).</p>
<p><br></p>
<p>The function <code><a href="../reference/get_nodes_list.html">get_nodes_list()</a></code> can be used to extract the
nodes list.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Get nodes labels ----</span></span>
<span><span class="fu"><a href="../reference/get_nodes_list.html">get_nodes_list</a></span><span class="op">(</span><span class="va">adour_sites</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "1-1" "1-2" "1-3" "1-4" "1-5" "2-1" "2-2" "2-3" "2-4" "2-5" "3-1" "3-2"</span></span>
<span><span class="co">#&gt; [13] "3-3" "3-4" "3-5"</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="edges-list">Edges list<a class="anchor" aria-label="anchor" href="#edges-list"></a>
</h2>
<p>The creation of a list of edges (links) between nodes (sampling
units) is based on the detection of neighbors. The function
<code><a href="../reference/create_edges_list.html">create_edges_list()</a></code> implements three neighborhood
rules:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Degree of neighborhood</strong> (argument
<code>degree</code>): the number of adjacent nodes that will be used to
create <strong>direct</strong> edges. If <code>degree = 1</code>, only
nodes directly adjacent to the focal node will be considered as
neighbors.</li>
<li>
<strong>Orientation of neighborhood</strong> (argument
<code>method</code>): can neighbors be detecting horizontally and/or
vertically and/or diagonally? The package <code>chessboard</code>
implements all possible orientations derived from the chess game.</li>
<li>
<strong>Direction of neighborhood</strong> (arguments
<code>directed</code> and <code>reverse</code>): does the sampling
design has a direction? If so, the network will be considered as
<strong>directed</strong> and the direction will follow the order of
nodes labels in both axes of the grid.</li>
</ol>
<p><br></p>
<p>Different methods have implemented to define neighborhood (argument
<code>method</code> of the function <code><a href="../reference/create_edges_list.html">create_edges_list()</a></code>).
These methods are named <code>'pawn'</code>, <code>'rook'</code>,
<code>'bishop'</code>, <code>'queen'</code>, etc. A complete list of
available methods is available at: <a href="https://frbcesab.github.io/chessboard/reference/index.html#detect-neighbors" class="external-link">https://frbcesab.github.io/chessboard/reference/index.html#detect-neighbors</a></p>
<p><br></p>
<p>Before using the function <code><a href="../reference/create_edges_list.html">create_edges_list()</a></code>, users can
explore these different methods by calling the functions
<code><a href="../reference/pawn.html">pawn()</a></code>, <code><a href="../reference/rook.html">rook()</a></code>, <code><a href="../reference/bishop.html">bishop()</a></code>,
<code><a href="../reference/queen.html">queen()</a></code>, etc.</p>
<p>Let’s take a look of the neighborhood method <code><a href="../reference/pawn.html">pawn()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Explore pawn method to find neighbors ----</span></span>
<span><span class="va">neighbors_pawn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pawn.html">pawn</a></span><span class="op">(</span>nodes    <span class="op">=</span> <span class="va">adour_sites</span>, </span>
<span>                       focus    <span class="op">=</span> <span class="st">"2-3"</span>, </span>
<span>                       degree   <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                       directed <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>                       reverse  <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">neighbors_pawn</span></span>
<span><span class="co">#&gt;   node location transect quadrat longitude latitude</span></span>
<span><span class="co">#&gt; 1  2-2        1        2       2  475390.1  6224785</span></span>
<span><span class="co">#&gt; 2  2-4        1        2       4  473476.3  6229405</span></span></code></pre></div>
<p>This function (and others) only works on a specific node (argument
<code>focus</code>).</p>
<p><br></p>
<p>The package <code>chessboard</code> contains functions to visualize
detected neighbors on a chessboard: <code><a href="../reference/gg_chessboard.html">gg_chessboard()</a></code> is used
to plot a chessboard (dimensions defined by the nodes list),
<code><a href="../reference/geom_piece.html">geom_piece()</a></code> emphasizes the focus node (in red), and
<code><a href="../reference/geom_neighbors.html">geom_neighbors()</a></code> adds the detected neighbors.</p>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/nb-pawn-1.png" alt="Figure 4. Detected neighbors (pawn method)" width="50%"><p class="caption">
Figure 4. Detected neighbors (pawn method)
</p>
</div>
<p><br></p>
<p>The Figure 5 shows the usage of the function <code><a href="../reference/pawn.html">pawn()</a></code> (and
others). This function can detect neighbors horizontally, i.e. among
quadrats along a transect. User can change the default settings by
increasing the degree of neighborhood (<code>degree = 4</code>, Fig.
5A), by adding directionality (<code>directed = TRUE</code>, Fig. 5B),
and by reversing the default directionality
(<code>directed = TRUE</code> and <code>reverse = TRUE</code>, Fig.
5C).</p>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/cb-pawn-1.png" alt="Figure 5. Pawn movements" width="100%"><p class="caption">
Figure 5. Pawn movements
</p>
</div>
<p><br></p>
<p>Let’s take another example with <code>method = "bishop"</code>. The
function <code><a href="../reference/bishop.html">bishop()</a></code> can detect neighbors diagonally. User can
change the default settings by increasing the degree of neighborhood
(<code>degree = 4</code>, Fig. 6A), by adding directionality
(<code>directed = TRUE</code>, Fig. 6B), and by reversing the default
directionality (<code>directed = TRUE</code> and
<code>reverse = TRUE</code>, Fig. 6C).</p>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/cb-bishop-1.png" alt="Figure 6. Bishop movements" width="100%"><p class="caption">
Figure 6. Bishop movements
</p>
</div>
<p><br></p>
<p>The vignette <a href="https://frbcesab.github.io/chessboard/articles/movements.html" class="external-link">Chess
movements</a> shows all possible movements implemented in
<code>chessboard</code>.</p>
<p><br></p>
<p>Now, let’s use the function <code><a href="../reference/create_edges_list.html">create_edges_list()</a></code> to
create an edges list using the method <code>'pawn'</code> with a degree
<code>1</code> of neighborhood and in a directional way.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create edges list ----</span></span>
<span><span class="va">adour_edges_pawn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_edges_list.html">create_edges_list</a></span><span class="op">(</span>nodes    <span class="op">=</span> <span class="va">adour_sites</span>, </span>
<span>                                      method   <span class="op">=</span> <span class="st">"pawn"</span>, </span>
<span>                                      degree   <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                      directed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                      reverse  <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                                      self     <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adour_edges_pawn</span></span>
<span><span class="co">#&gt;    from  to</span></span>
<span><span class="co">#&gt; 1   1-1 1-2</span></span>
<span><span class="co">#&gt; 2   1-2 1-3</span></span>
<span><span class="co">#&gt; 3   1-3 1-4</span></span>
<span><span class="co">#&gt; 4   1-4 1-5</span></span>
<span><span class="co">#&gt; 5   2-1 2-2</span></span>
<span><span class="co">#&gt; 6   2-2 2-3</span></span>
<span><span class="co">#&gt; 7   2-3 2-4</span></span>
<span><span class="co">#&gt; 8   2-4 2-5</span></span>
<span><span class="co">#&gt; 9   3-1 3-2</span></span>
<span><span class="co">#&gt; 10  3-2 3-3</span></span>
<span><span class="co">#&gt; 11  3-3 3-4</span></span>
<span><span class="co">#&gt; 12  3-4 3-5</span></span></code></pre></div>
<p><br></p>
<p>It’s possible to visualize these edges on a map, i.e. by using
spatial coordinates. First, we need to convert our sites into a spatial
object (<code>POINT</code>).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Convert sites to sf object ----</span></span>
<span><span class="va">adour_sites_sf</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">adour_sites</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"longitude"</span>, <span class="st">"latitude"</span><span class="op">)</span>,</span>
<span>                               crs <span class="op">=</span> <span class="st">"epsg:2154"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">adour_sites_sf</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 4 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 470209.3 ymin: 6221518 xmax: 476347 ymax: 6230758</span></span>
<span><span class="co">#&gt; Projected CRS: RGF93 v1 / Lambert-93</span></span>
<span><span class="co">#&gt;   node location transect quadrat                 geometry</span></span>
<span><span class="co">#&gt; 1  1-1        1        1       1 POINT (474036.9 6221518)</span></span>
<span><span class="co">#&gt; 2  1-2        1        1       2   POINT (473080 6223828)</span></span>
<span><span class="co">#&gt; 3  1-3        1        1       3 POINT (472123.1 6226138)</span></span>
<span><span class="co">#&gt; 4  1-4        1        1       4 POINT (471166.2 6228448)</span></span>
<span><span class="co">#&gt; 5  1-5        1        1       5 POINT (470209.3 6230758)</span></span>
<span><span class="co">#&gt; 6  2-1        1        2       1   POINT (476347 6222475)</span></span></code></pre></div>
<p><br></p>
<p>Now we can use the function <code><a href="../reference/edges_to_sf.html">edges_to_sf()</a></code> to convert our
edges list into a spatial object (<code>LINESTRING</code>).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Convert edges list to sf ----</span></span>
<span><span class="va">adour_edges_pawn_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/edges_to_sf.html">edges_to_sf</a></span><span class="op">(</span>edges <span class="op">=</span> <span class="va">adour_edges_pawn</span>, </span>
<span>                                   sites <span class="op">=</span> <span class="va">adour_sites_sf</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adour_edges_pawn_sf</span></span>
<span><span class="co">#&gt; Simple feature collection with 12 features and 2 fields</span></span>
<span><span class="co">#&gt; Geometry type: LINESTRING</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 470209.3 ymin: 6221518 xmax: 478657.1 ymax: 6232672</span></span>
<span><span class="co">#&gt; Projected CRS: RGF93 v1 / Lambert-93</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;    from  to                       geometry</span></span>
<span><span class="co">#&gt; 1   1-1 1-2 LINESTRING (474036.9 622151...</span></span>
<span><span class="co">#&gt; 2   1-2 1-3 LINESTRING (473080 6223828,...</span></span>
<span><span class="co">#&gt; 3   1-3 1-4 LINESTRING (472123.1 622613...</span></span>
<span><span class="co">#&gt; 4   1-4 1-5 LINESTRING (471166.2 622844...</span></span>
<span><span class="co">#&gt; 5   2-1 2-2 LINESTRING (476347 6222475,...</span></span>
<span><span class="co">#&gt; 6   2-2 2-3 LINESTRING (475390.1 622478...</span></span>
<span><span class="co">#&gt; 7   2-3 2-4 LINESTRING (474433.2 622709...</span></span>
<span><span class="co">#&gt; 8   2-4 2-5 LINESTRING (473476.3 622940...</span></span>
<span><span class="co">#&gt; 9   3-1 3-2 LINESTRING (478657.1 622343...</span></span>
<span><span class="co">#&gt; 10  3-2 3-3 LINESTRING (477700.2 622574...</span></span></code></pre></div>
<p><br></p>
<p>We can now map our nodes and edges.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Map of nodes and edges ----</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">adour_sites_sf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">adour_edges_pawn_sf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/map-edges-list-pawn-1.png" alt="Figure 7. Edges list (pawn method)" width="80%"><p class="caption">
Figure 7. Edges list (pawn method)
</p>
</div>
<p><br></p>
<p>Users may want to combine different methods to detect neighbors. It’s
possible by using for each method the function
<code><a href="../reference/create_edges_list.html">create_edges_list()</a></code> and using the function
<code><a href="../reference/append_edges_lists.html">append_edges_lists()</a></code> to merge all edges in a single
list.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create edges list (Bishop method) ----</span></span>
<span><span class="va">adour_edges_bishop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_edges_list.html">create_edges_list</a></span><span class="op">(</span>nodes    <span class="op">=</span> <span class="va">adour_sites</span>, </span>
<span>                                        method   <span class="op">=</span> <span class="st">"bishop"</span>, </span>
<span>                                        degree   <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                        directed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                        reverse  <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                                        self     <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adour_edges_bishop</span></span>
<span><span class="co">#&gt;    from  to</span></span>
<span><span class="co">#&gt; 1   1-1 2-2</span></span>
<span><span class="co">#&gt; 2   1-2 2-3</span></span>
<span><span class="co">#&gt; 3   1-3 2-4</span></span>
<span><span class="co">#&gt; 4   1-4 2-5</span></span>
<span><span class="co">#&gt; 5   2-1 1-2</span></span>
<span><span class="co">#&gt; 6   2-1 3-2</span></span>
<span><span class="co">#&gt; 7   2-2 1-3</span></span>
<span><span class="co">#&gt; 8   2-2 3-3</span></span>
<span><span class="co">#&gt; 9   2-3 1-4</span></span>
<span><span class="co">#&gt; 10  2-3 3-4</span></span>
<span><span class="co">#&gt; 11  2-4 1-5</span></span>
<span><span class="co">#&gt; 12  2-4 3-5</span></span>
<span><span class="co">#&gt; 13  3-1 2-2</span></span>
<span><span class="co">#&gt; 14  3-2 2-3</span></span>
<span><span class="co">#&gt; 15  3-3 2-4</span></span>
<span><span class="co">#&gt; 16  3-4 2-5</span></span>
<span></span>
<span><span class="co">## Merge Pawn and Bishop edges ----</span></span>
<span><span class="va">adour_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_edges_lists.html">append_edges_lists</a></span><span class="op">(</span><span class="va">adour_edges_pawn</span>, <span class="va">adour_edges_bishop</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Convert edges to spatial layer ----</span></span>
<span><span class="va">adour_edges_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/edges_to_sf.html">edges_to_sf</a></span><span class="op">(</span><span class="va">adour_edges</span>, <span class="va">adour_sites_sf</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Map of nodes and edges ----</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">adour_sites_sf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">adour_edges_sf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/map-edges-list-pawn-bishop-1.png" alt="Figure 8. Edges list (combined methods)" width="80%"><p class="caption">
Figure 8. Edges list (combined methods)
</p>
</div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="connectivity-matrix">Connectivity matrix<a class="anchor" aria-label="anchor" href="#connectivity-matrix"></a>
</h2>
<p>From this edges list, we can build a <strong>connectivity
matrix</strong>, i.e. a binary matrix of dimensions <code>n x n</code>,
where <code>n</code> is the number of nodes (sampling units) indicating
the presence (<code>1</code>) or the absence (<code>0</code>) of an edge
(link) between pairs of nodes.</p>
<p><br></p>
<p>We can use the function <code><a href="../reference/connectivity_matrix.html">connectivity_matrix()</a></code> of the
package <code>chessboard</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create connectivity matrix ----</span></span>
<span><span class="va">adour_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connectivity_matrix.html">connectivity_matrix</a></span><span class="op">(</span><span class="va">adour_edges</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adour_matrix</span></span>
<span><span class="co">#&gt;     1-1 1-2 1-3 1-4 1-5 2-1 2-2 2-3 2-4 2-5 3-1 3-2 3-3 3-4 3-5</span></span>
<span><span class="co">#&gt; 1-1   0   1   0   0   0   0   1   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 1-2   0   0   1   0   0   0   0   1   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 1-3   0   0   0   1   0   0   0   0   1   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 1-4   0   0   0   0   1   0   0   0   0   1   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 1-5   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 2-1   0   1   0   0   0   0   1   0   0   0   0   1   0   0   0</span></span>
<span><span class="co">#&gt; 2-2   0   0   1   0   0   0   0   1   0   0   0   0   1   0   0</span></span>
<span><span class="co">#&gt; 2-3   0   0   0   1   0   0   0   0   1   0   0   0   0   1   0</span></span>
<span><span class="co">#&gt; 2-4   0   0   0   0   1   0   0   0   0   1   0   0   0   0   1</span></span>
<span><span class="co">#&gt; 2-5   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span></span>
<span><span class="co">#&gt; 3-1   0   0   0   0   0   0   1   0   0   0   0   1   0   0   0</span></span>
<span><span class="co">#&gt; 3-2   0   0   0   0   0   0   0   1   0   0   0   0   1   0   0</span></span>
<span><span class="co">#&gt; 3-3   0   0   0   0   0   0   0   0   1   0   0   0   0   1   0</span></span>
<span><span class="co">#&gt; 3-4   0   0   0   0   0   0   0   0   0   1   0   0   0   0   1</span></span>
<span><span class="co">#&gt; 3-5   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0</span></span></code></pre></div>
<p><br></p>
<p>The package <code>chessboard</code> provides a graphical function to
visualize this matrix: <code><a href="../reference/gg_matrix.html">gg_matrix()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Visualize connectivity matrix ----</span></span>
<span><span class="fu"><a href="../reference/gg_matrix.html">gg_matrix</a></span><span class="op">(</span><span class="va">adour_matrix</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/plot-connectivity-matrix-1.png" alt="Figure 9. Connectivity matrix" width="80%"><p class="caption">
Figure 9. Connectivity matrix
</p>
</div>
<p><br></p>
<p>Optionally, we can use the function
<code><a href="../reference/matrix_to_edges_list.html">matrix_to_edges_list()</a></code> to convert back the connectivity
matrix to edges list.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Convert connectivity matrix to edges list ----</span></span>
<span><span class="fu"><a href="../reference/matrix_to_edges_list.html">matrix_to_edges_list</a></span><span class="op">(</span><span class="va">adour_matrix</span><span class="op">)</span></span>
<span><span class="co">#&gt;    from  to</span></span>
<span><span class="co">#&gt; 1   1-1 1-2</span></span>
<span><span class="co">#&gt; 2   1-1 2-2</span></span>
<span><span class="co">#&gt; 3   1-2 1-3</span></span>
<span><span class="co">#&gt; 4   1-2 2-3</span></span>
<span><span class="co">#&gt; 5   1-3 1-4</span></span>
<span><span class="co">#&gt; 6   1-3 2-4</span></span>
<span><span class="co">#&gt; 7   1-4 1-5</span></span>
<span><span class="co">#&gt; 8   1-4 2-5</span></span>
<span><span class="co">#&gt; 9   2-1 1-2</span></span>
<span><span class="co">#&gt; 10  2-1 2-2</span></span>
<span><span class="co">#&gt; 11  2-1 3-2</span></span>
<span><span class="co">#&gt; 12  2-2 1-3</span></span>
<span><span class="co">#&gt; 13  2-2 2-3</span></span>
<span><span class="co">#&gt; 14  2-2 3-3</span></span>
<span><span class="co">#&gt; 15  2-3 1-4</span></span>
<span><span class="co">#&gt; 16  2-3 2-4</span></span>
<span><span class="co">#&gt; 17  2-3 3-4</span></span>
<span><span class="co">#&gt; 18  2-4 1-5</span></span>
<span><span class="co">#&gt; 19  2-4 2-5</span></span>
<span><span class="co">#&gt; 20  2-4 3-5</span></span>
<span><span class="co">#&gt; 21  3-1 2-2</span></span>
<span><span class="co">#&gt; 22  3-1 3-2</span></span>
<span><span class="co">#&gt; 23  3-2 2-3</span></span>
<span><span class="co">#&gt; 24  3-2 3-3</span></span>
<span><span class="co">#&gt; 25  3-3 2-4</span></span>
<span><span class="co">#&gt; 26  3-3 3-4</span></span>
<span><span class="co">#&gt; 27  3-4 2-5</span></span>
<span><span class="co">#&gt; 28  3-4 3-5</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="nodes-by-edges-matrix">Nodes-by-edges matrix<a class="anchor" aria-label="anchor" href="#nodes-by-edges-matrix"></a>
</h2>
<p>The first object required by AEM is the <strong>nodes-by-edges
matrix</strong>, i.e. a binary matrix of dimensions <code>n x k</code>,
where <code>n</code> is the number of nodes (in rows) and <code>k</code>
the number of edges (in columns). This matrix represents the presence of
a link influencing a site, directly or indirectly. It also gives the
direction of the network.</p>
<p><br></p>
<p>The function <code><a href="../reference/nodes_by_edges_matrix.html">nodes_by_edges_matrix()</a></code> of the package
<code>chessboard</code> is an alternative to the function <a href="https://sdray.github.io/adespatial/reference/aem.build.binary.html" class="external-link"><code>aem.build.binary()</code></a>
of the package <a href="https://cran.r-project.org/package=adespatial" class="external-link"><code>adespatial</code></a>.
This function creates the same output but works in a different way: it’s
only based on nodes labels (not on spatial coordinates). In addition,
the function <code><a href="../reference/nodes_by_edges_matrix.html">nodes_by_edges_matrix()</a></code> adds labels to nodes
and edges.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Create nodes-by-edges matrix ----</span></span>
<span><span class="va">adour_edges_mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/nodes_by_edges_matrix.html">nodes_by_edges_matrix</a></span><span class="op">(</span><span class="va">adour_edges</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Content ----</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">adour_edges_mat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "se.mat" "edges"</span></span>
<span></span>
<span><span class="co">## Header of the nodes-by-edges matrix ----</span></span>
<span><span class="va">adour_edges_mat</span><span class="op">$</span><span class="st">"se.mat"</span><span class="op">[</span> , <span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span></span>
<span><span class="co">#&gt;     E-01 E-02 E-03 E-04 E-05 E-06 E-07 E-08 E-09 E-10 E-11 E-12 E-13 E-14 E-15</span></span>
<span><span class="co">#&gt; 1-1    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0</span></span>
<span><span class="co">#&gt; 1-2    1    1    0    1    0    0    0    0    0    0    0    1    0    0    0</span></span>
<span><span class="co">#&gt; 1-3    1    1    1    1    1    1    0    0    0    0    0    1    1    0    1</span></span>
<span><span class="co">#&gt; 1-4    1    1    1    1    1    1    1    1    0    0    0    1    1    1    1</span></span>
<span><span class="co">#&gt; 1-5    1    1    1    1    1    1    1    1    1    1    0    1    1    1    1</span></span>
<span><span class="co">#&gt; 2-2    1    1    1    0    1    0    0    0    0    0    0    0    1    0    0</span></span>
<span><span class="co">#&gt; 2-3    1    1    1    1    1    0    1    0    0    0    0    1    1    1    0</span></span>
<span><span class="co">#&gt; 2-4    1    1    1    1    1    1    1    0    1    0    0    1    1    1    1</span></span>
<span><span class="co">#&gt; 2-5    1    1    1    1    1    1    1    1    1    0    1    1    1    1    1</span></span>
<span><span class="co">#&gt; 3-3    1    1    1    0    1    0    0    0    0    0    0    0    1    1    0</span></span>
<span><span class="co">#&gt; 3-4    1    1    1    1    1    0    1    0    0    0    0    1    1    1    0</span></span>
<span><span class="co">#&gt; 3-5    1    1    1    1    1    1    1    0    1    0    0    1    1    1    1</span></span>
<span><span class="co">#&gt; 2-1    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0</span></span>
<span><span class="co">#&gt; 3-2    0    1    1    0    0    0    0    0    0    0    0    0    0    1    0</span></span>
<span><span class="co">#&gt; 3-1    0    0    1    0    0    0    0    0    0    0    0    0    0    0    0</span></span>
<span></span>
<span><span class="co">## Edges list ----</span></span>
<span><span class="va">adour_edges_mat</span><span class="op">$</span><span class="st">"edges"</span></span>
<span><span class="co">#&gt;      from  to</span></span>
<span><span class="co">#&gt; E-01    0 1-1</span></span>
<span><span class="co">#&gt; E-02    0 2-1</span></span>
<span><span class="co">#&gt; E-03    0 3-1</span></span>
<span><span class="co">#&gt; E-04  1-1 1-2</span></span>
<span><span class="co">#&gt; E-05  1-1 2-2</span></span>
<span><span class="co">#&gt; E-06  1-2 1-3</span></span>
<span><span class="co">#&gt; E-07  1-2 2-3</span></span>
<span><span class="co">#&gt; E-08  1-3 1-4</span></span>
<span><span class="co">#&gt; E-09  1-3 2-4</span></span>
<span><span class="co">#&gt; E-10  1-4 1-5</span></span>
<span><span class="co">#&gt; E-11  1-4 2-5</span></span>
<span><span class="co">#&gt; E-12  2-1 1-2</span></span>
<span><span class="co">#&gt; E-13  2-1 2-2</span></span>
<span><span class="co">#&gt; E-14  2-1 3-2</span></span>
<span><span class="co">#&gt; E-15  2-2 1-3</span></span>
<span><span class="co">#&gt; E-16  2-2 2-3</span></span>
<span><span class="co">#&gt; E-17  2-2 3-3</span></span>
<span><span class="co">#&gt; E-18  2-3 1-4</span></span>
<span><span class="co">#&gt; E-19  2-3 2-4</span></span>
<span><span class="co">#&gt; E-20  2-3 3-4</span></span>
<span><span class="co">#&gt; E-21  2-4 1-5</span></span>
<span><span class="co">#&gt; E-22  2-4 2-5</span></span>
<span><span class="co">#&gt; E-23  2-4 3-5</span></span>
<span><span class="co">#&gt; E-24  3-1 2-2</span></span>
<span><span class="co">#&gt; E-25  3-1 3-2</span></span>
<span><span class="co">#&gt; E-26  3-2 2-3</span></span>
<span><span class="co">#&gt; E-27  3-2 3-3</span></span>
<span><span class="co">#&gt; E-28  3-3 2-4</span></span>
<span><span class="co">#&gt; E-29  3-3 3-4</span></span>
<span><span class="co">#&gt; E-30  3-4 2-5</span></span>
<span><span class="co">#&gt; E-31  3-4 3-5</span></span></code></pre></div>
<p>This function returns a list with the following elements:</p>
<ul>
<li>
<code>se.mat</code>: the nodes-by-edges matrix of dimensions
<code>n x k</code>, where <code>n</code> is the number of nodes and
<code>k</code> the number of edges (including the edge between the
fictitious origin and the first site);</li>
<li>
<code>edges</code>: a <code>data.frame</code> of edges list.</li>
</ul>
<p><br></p>
<p><strong>Note:</strong> a fictitious <code>origin</code> site (coded
as <code>0</code>) has been created and represents the first edge (coded
as <code>E-01</code>) to the first site.</p>
<p><br></p>
<p>Let’s plot our nodes-by-edges matrix.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gg_matrix.html">gg_matrix</a></span><span class="op">(</span><span class="va">adour_edges_mat</span><span class="op">$</span><span class="st">"se.mat"</span><span class="op">)</span></span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="chessboard_files/figure-html/plot-nodes-by-edges-matrix-1.png" alt="Figure 10. Nodes-by-edges matrix" width="80%"><p class="caption">
Figure 10. Nodes-by-edges matrix
</p>
</div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Blanchet F. G., Legendre P. &amp; Borcard D. (2008) Modelling
directional spatial processes in ecological data. <strong>Ecological
Modelling</strong>, 215, 325-336. doi: <a href="https://doi.org/10.1016/j.ecolmodel.2008.04.001" class="external-link">10.1016/j.ecolmodel.2008.04.001</a>.</p>
<p>Dray S. <em>et al.</em> (2022) adespatial: Multivariate Multiscale
Spatial Analysis. R package version 0.3-16, <a href="https://CRAN.R-project.org/package=adespatial" class="external-link">https://CRAN.R-project.org/package=adespatial</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicolas Casajus.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
