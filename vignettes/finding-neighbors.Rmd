---
title: "Finding neighbors"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{finding-neighbors}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r include=FALSE}
knitr::opts_chunk$set(collapse  = TRUE,
                      comment   = "#>",
                      out.width = "50%",
                      dpi       = 96,
                      fig.align = "center")
```


```{r 'setup'}
library("bridge")
library("ggplot2")
library("patchwork")
```

```{r 'load-data', echo=FALSE}
transects_quadrats <- expand.grid("transect" = 1:3, "quadrat" = 1:5)
transects_only     <- 1:5
quadrats_only      <- 1:5

nodes_transects_quadrats <- create_nodes_labels(
  transects = transects_quadrats$"transect", 
  quadrats  = transects_quadrats$"quadrat")

nodes_transects_only <- create_nodes_labels(
  transects = transects_only)

nodes_quadrats_only <- create_nodes_labels(
  quadrats = quadrats_only)
```




The package `bridge` is designed to work with two-dimensional networks (i.e. 
regular grid), where one dimension is called **transect** and the other is
called **quadrat**.



```{r 'cb-transects-quadrats', fig.height=8, fig.width=6, echo=FALSE, fig.asp=1, fig.cap="Two-dimensional network"}
gg_chessboard(nodes_transects_quadrats)
```


By convention, the dimension **transect** corresponds to the x-axis, and the 
**quadrat** corresponds to the y-axis.


The package `bridge` can also deal with one-dimensional networks 
(either **transects-only** or **quadrats-only**).

```{r 'cb-transects-only', fig.height=3, fig.width=8, echo=FALSE, fig.asp=1, fig.cap="Transects-only network"}
gg_chessboard(nodes_transects_only)
```

```{r 'cb-quadrats-only', fig.height=8, fig.width=3, echo=FALSE, fig.asp=1, fig.cap="Quadrats-only network"}
gg_chessboard(nodes_quadrats_only)
```

The network can be undirected or directed.


but one-dimensional sampling (transects) are allowed. It's 
important to note that, even the package handles spatial networks, it does not 
explicitly use spatial coordinates to find neighbors. Instead, it will find 
neighbors based on **nodes labels** (i.e. sampling units).

Nodes labels will be of the form: `1-2`, where `1` is the identifier of 
the transect, and `2`, the identifier 
of the quadrat (created by the function is missing).


## Chessboard

Ignoring the spatial coordinates of the sampling, we can report sampling units
of a chessboard of dimensions `t` x `q`, with `t`, the number of transects, 
and `q`, the number of quadrats. By convention, the **transects** will be the 
x-axis and the **quadrats** the y-axis.

If the network is directed, it will have (by default) two orientations:
- from bottom to top for quadrats along transect, and
- from left to right for transects along quadrat.


