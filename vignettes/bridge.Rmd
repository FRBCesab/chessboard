---
title: "Get started"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Get started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE,
                      comment  = "#>")
```


```{r setup}
library("bridge")
```


```{r}
quadrat_per_site <- 5
tab <- data.frame("site"    = c(rep("S1", quadrat_per_site),
                                rep("S2", quadrat_per_site)),
                  "quadrat" = rep(paste0("AD0", 1:quadrat_per_site), 2))

tab <- recode_units(tab)

level <- 1

dat <- make_links(tab$"key", level = level)
mat <- df_to_matrix(dat, diag = FALSE, upper = FALSE)
dat <- matrix_to_df(mat)

net <- igraph::graph.data.frame(dat[dat$"weight" == 1, ], directed = FALSE)
plot(net, layout = igraph::layout_components(net))
title(paste("Neighbors", level))
```


```{r}
level <- 2

dat <- make_links(tab$"key", level = level)
mat <- df_to_matrix(dat, diag = FALSE, upper = FALSE)
dat <- matrix_to_df(mat)

net <- igraph::graph.data.frame(dat[dat$"weight" == 1, ], directed = FALSE)
plot(net, layout = igraph::layout_components(net))
title(paste("Neighbors", level))
```

```{r}
level <- 3

dat <- make_links(tab$"key", level = level)
mat <- df_to_matrix(dat, diag = FALSE, upper = FALSE)
dat <- matrix_to_df(mat)

net <- igraph::graph.data.frame(dat[dat$"weight" == 1, ], directed = FALSE)
plot(net, layout = igraph::layout_components(net))
title(paste("Neighbors", level))
```


```{r}
level <- 4

dat <- make_links(tab$"key", level = level)
mat <- df_to_matrix(dat, diag = FALSE, upper = FALSE)
dat <- matrix_to_df(mat)

net <- igraph::graph.data.frame(dat[dat$"weight" == 1, ], directed = FALSE)
plot(net, layout = igraph::layout_components(net))
title(paste("Neighbors", level))
```


```{r}
level <- 5

dat <- make_links(tab$"key", level = level)
mat <- df_to_matrix(dat, diag = FALSE, upper = FALSE)
dat <- matrix_to_df(mat)

net <- igraph::graph.data.frame(dat[dat$"weight" == 1, ], directed = FALSE)
plot(net, layout = igraph::layout_components(net))
title(paste("Neighbors", level))
```
